<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>N2Shop - ƒê·∫∑t T√™n S·∫£n Ph·∫©m T·ª± ƒê·ªông</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Firebase v9+ modular SDK -->
    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { getFirestore, collection, addDoc, deleteDoc, doc, updateDoc, query, orderBy, onSnapshot } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';
        import { getStorage, ref, uploadString, getDownloadURL } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-storage.js';
        
        window.firebaseModules = {
            initializeApp,
            getFirestore,
            collection,
            addDoc,
            deleteDoc,
            doc,
            updateDoc,
            query,
            orderBy,
            onSnapshot,
            getStorage,
            ref,
            uploadString,
            getDownloadURL
        };
    </script>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState, useRef, useEffect } = React;

        // ============================================
        // FIREBASE CONFIG
        // ============================================
        const FIREBASE_CONFIG = {
            apiKey: "AIzaSyA-legWlCgjMDEy70rsaTTwLK39F4ZCKhM",
            authDomain: "n2shop-69e37.firebaseapp.com",
            databaseURL: "https://n2shop-69e37-default-rtdb.asia-southeast1.firebasedatabase.app",
            projectId: "n2shop-69e37",
            storageBucket: "n2shop-69e37.appspot.com",
            messagingSenderId: "598906493303",
            appId: "1:598906493303:web:46d6236a1fdc2eff33e972",
            measurementId: "G-TEJH3S2T1D"
        };

        // ============================================
        // AI T·ª∞ H·ªåC - PH√ÇN T√çCH ·∫¢NH & T√äN
        // ============================================
        
        // Ph√¢n t√≠ch m√†u s·∫Øc ch·ªß ƒë·∫°o t·ª´ ·∫£nh
        const analyzeImageColors = (imageData) => {
            return new Promise((resolve) => {
                const img = new Image();
                img.onload = () => {
                    const canvas = document.createElement('canvas');
                    const ctx = canvas.getContext('2d');
                    canvas.width = img.width;
                    canvas.height = img.height;
                    ctx.drawImage(img, 0, 0);
                    
                    const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
                    const pixels = imageData.data;
                    
                    let r = 0, g = 0, b = 0;
                    const pixelCount = pixels.length / 4;
                    
                    for (let i = 0; i < pixels.length; i += 4) {
                        r += pixels[i];
                        g += pixels[i + 1];
                        b += pixels[i + 2];
                    }
                    
                    r = Math.floor(r / pixelCount);
                    g = Math.floor(g / pixelCount);
                    b = Math.floor(b / pixelCount);
                    
                    const colorName = getColorName(r, g, b);
                    resolve(colorName);
                };
                img.src = imageData;
            });
        };
        
        // X√°c ƒë·ªãnh t√™n m√†u ti·∫øng Vi·ªát
        const getColorName = (r, g, b) => {
            const colors = [
                { name: 'TR·∫ÆNG', r: 255, g: 255, b: 255, threshold: 40 },
                { name: 'ƒêEN', r: 0, g: 0, b: 0, threshold: 60 },
                { name: 'ƒê·ªé', r: 255, g: 0, b: 0, threshold: 100 },
                { name: 'XANH D∆Ø∆†NG', r: 0, g: 0, b: 255, threshold: 100 },
                { name: 'XANH L√Å', r: 0, g: 255, b: 0, threshold: 100 },
                { name: 'V√ÄNG', r: 255, g: 255, b: 0, threshold: 100 },
                { name: 'CAM', r: 255, g: 165, b: 0, threshold: 100 },
                { name: 'H·ªíNG', r: 255, g: 192, b: 203, threshold: 80 },
                { name: 'T√çM', r: 128, g: 0, b: 128, threshold: 80 },
                { name: 'N√ÇU', r: 139, g: 69, b: 19, threshold: 80 },
                { name: 'X√ÅM', r: 128, g: 128, b: 128, threshold: 50 },
                { name: 'BE', r: 245, g: 245, b: 220, threshold: 60 },
            ];
            
            let closestColor = 'NHI·ªÄU M√ÄU';
            let minDistance = Infinity;
            
            for (const color of colors) {
                const distance = Math.sqrt(
                    Math.pow(r - color.r, 2) +
                    Math.pow(g - color.g, 2) +
                    Math.pow(b - color.b, 2)
                );
                
                if (distance < minDistance && distance < color.threshold) {
                    minDistance = distance;
                    closestColor = color.name;
                }
            }
            
            return closestColor;
        };
        
        // H·ªçc pattern t·ª´ s·∫£n ph·∫©m c≈©
        const learnFromPastProducts = (products) => {
            const patterns = {
                keywords: {},
                structures: [],
                prefixes: {},
                brands: new Set(),
            };
            
            products.forEach(product => {
                const name = product.name.toUpperCase();
                
                // H·ªçc t·ª´ kh√≥a
                const words = name.split(/[\s+\-,]/);
                words.forEach(word => {
                    if (word.length > 1) {
                        patterns.keywords[word] = (patterns.keywords[word] || 0) + 1;
                    }
                });
                
                // H·ªçc c·∫•u tr√∫c
                if (name.includes('SET')) {
                    patterns.structures.push('SET');
                }
                if (name.includes('ƒê·∫¶M')) {
                    patterns.structures.push('ƒê·∫¶M');
                }
                if (name.includes('√ÅO')) {
                    patterns.structures.push('√ÅO');
                }
                if (name.includes('Q.') || name.includes('QU·∫¶N')) {
                    patterns.structures.push('QU·∫¶N');
                }
                
                // H·ªçc th∆∞∆°ng hi·ªáu
                const brandPatterns = ['ALO', 'BBR', 'MM', 'ZARA', 'H&M', 'UNIQLO'];
                brandPatterns.forEach(brand => {
                    if (name.includes(brand)) {
                        patterns.brands.add(brand);
                    }
                });
            });
            
            return patterns;
        };
        
        // T·∫°o t√™n s·∫£n ph·∫©m t·ª± ƒë·ªông
        const generateProductName = (colorName, products) => {
            const patterns = learnFromPastProducts(products);
            
            // C√°c template ph·ªï bi·∫øn
            const templates = [
                `SET √ÅO + Q. ${colorName}`,
                `√ÅO ${colorName}`,
                `Q.D√ÄI ${colorName}`,
                `ƒê·∫¶M ${colorName}`,
                `SET √ÅO TD + Q. ${colorName}`,
            ];
            
            // Th√™m pattern t·ª´ s·∫£n ph·∫©m c≈©
            if (patterns.structures.length > 0) {
                const mostCommon = patterns.structures[0];
                templates.unshift(`${mostCommon} ${colorName}`);
            }
            
            // Th√™m brand n·∫øu c√≥
            if (patterns.brands.size > 0) {
                const brand = Array.from(patterns.brands)[0];
                templates.unshift(`SET ${colorName} ${brand}`);
            }
            
            // Ch·ªçn template ph√π h·ª£p nh·∫•t
            return templates[0];
        };

        function ClothingNamingApp() {
            const [products, setProducts] = useState([]);
            const [currentImage, setCurrentImage] = useState(null);
            const [suggestedName, setSuggestedName] = useState('');
            const [editedName, setEditedName] = useState('');
            const [isAnalyzing, setIsAnalyzing] = useState(false);
            const [showCamera, setShowCamera] = useState(false);
            const [stream, setStream] = useState(null);
            const [firebaseApp, setFirebaseApp] = useState(null);
            const [db, setDb] = useState(null);
            const [storage, setStorage] = useState(null);
            const [isOnline, setIsOnline] = useState(true);
            const [isSyncing, setIsSyncing] = useState(false);
            const [lastSync, setLastSync] = useState(null);
            const [unsubscribe, setUnsubscribe] = useState(null);
            
            const videoRef = useRef(null);
            const canvasRef = useRef(null);
            const fileInputRef = useRef(null);

            useEffect(() => {
                const handleOnline = () => setIsOnline(true);
                const handleOffline = () => setIsOnline(false);
                
                window.addEventListener('online', handleOnline);
                window.addEventListener('offline', handleOffline);
                
                return () => {
                    window.removeEventListener('online', handleOnline);
                    window.removeEventListener('offline', handleOffline);
                };
            }, []);

            useEffect(() => {
                initFirebase(FIREBASE_CONFIG);
                return () => {
                    if (unsubscribe) {
                        unsubscribe();
                    }
                };
            }, []);

            const initFirebase = async (config) => {
                try {
                    const { initializeApp, getFirestore, getStorage, collection, query, orderBy, onSnapshot } = window.firebaseModules;
                    
                    const app = initializeApp(config);
                    const firestoreDb = getFirestore(app);
                    const firebaseStorage = getStorage(app);
                    
                    setFirebaseApp(app);
                    setDb(firestoreDb);
                    setStorage(firebaseStorage);
                    
                    const productsRef = collection(firestoreDb, 'clothing_products');
                    const q = query(productsRef, orderBy('createdAt', 'desc'));
                    
                    const unsub = onSnapshot(q, (snapshot) => {
                        const productsData = [];
                        snapshot.forEach((doc) => {
                            productsData.push({
                                id: doc.id,
                                ...doc.data()
                            });
                        });
                        setProducts(productsData);
                        localStorage.setItem('clothingProducts', JSON.stringify(productsData));
                        setLastSync(new Date());
                    }, (error) => {
                        console.error('Error listening to products:', error);
                        loadLocalProducts();
                    });
                    
                    setUnsubscribe(() => unsub);
                } catch (error) {
                    console.error('Error initializing Firebase:', error);
                    loadLocalProducts();
                }
            };

            const loadLocalProducts = () => {
                const saved = localStorage.getItem('clothingProducts');
                if (saved) {
                    setProducts(JSON.parse(saved));
                }
            };

            const saveProductToFirebase = async (product) => {
                if (!db || !storage) {
                    const newProducts = [product, ...products];
                    setProducts(newProducts);
                    localStorage.setItem('clothingProducts', JSON.stringify(newProducts));
                    return;
                }

                try {
                    setIsSyncing(true);
                    const { collection, addDoc, ref, uploadString, getDownloadURL } = window.firebaseModules;
                    
                    const imageRef = ref(storage, `products/${Date.now()}.jpg`);
                    await uploadString(imageRef, product.image, 'data_url');
                    const imageUrl = await getDownloadURL(imageRef);
                    
                    await addDoc(collection(db, 'clothing_products'), {
                        name: product.name,
                        imageUrl: imageUrl,
                        createdAt: new Date()
                    });
                } catch (error) {
                    console.error('Error saving to Firebase:', error);
                    const newProducts = [product, ...products];
                    setProducts(newProducts);
                    localStorage.setItem('clothingProducts', JSON.stringify(newProducts));
                } finally {
                    setIsSyncing(false);
                }
            };

            const deleteProductFromFirebase = async (id) => {
                if (!db) {
                    const newProducts = products.filter(p => p.id !== id);
                    setProducts(newProducts);
                    localStorage.setItem('clothingProducts', JSON.stringify(newProducts));
                    return;
                }

                try {
                    setIsSyncing(true);
                    const { doc, deleteDoc } = window.firebaseModules;
                    await deleteDoc(doc(db, 'clothing_products', id));
                } catch (error) {
                    console.error('Error deleting from Firebase:', error);
                } finally {
                    setIsSyncing(false);
                }
            };

            const updateProductInFirebase = async (id, newName) => {
                if (!db) {
                    const newProducts = products.map(p => 
                        p.id === id ? { ...p, name: newName } : p
                    );
                    setProducts(newProducts);
                    localStorage.setItem('clothingProducts', JSON.stringify(newProducts));
                    return;
                }

                try {
                    setIsSyncing(true);
                    const { doc, updateDoc } = window.firebaseModules;
                    await updateDoc(doc(db, 'clothing_products', id), {
                        name: newName
                    });
                } catch (error) {
                    console.error('Error updating in Firebase:', error);
                } finally {
                    setIsSyncing(false);
                }
            };

            const startCamera = async () => {
                try {
                    const mediaStream = await navigator.mediaDevices.getUserMedia({ 
                        video: { facingMode: 'environment' } 
                    });
                    setStream(mediaStream);
                    setShowCamera(true);
                    if (videoRef.current) {
                        videoRef.current.srcObject = mediaStream;
                    }
                } catch (err) {
                    alert('Kh√¥ng th·ªÉ truy c·∫≠p camera. Vui l√≤ng cho ph√©p quy·ªÅn camera ho·∫∑c ch·ªçn ·∫£nh t·ª´ th∆∞ vi·ªán.');
                }
            };

            const stopCamera = () => {
                if (stream) {
                    stream.getTracks().forEach(track => track.stop());
                    setStream(null);
                }
                setShowCamera(false);
            };

            const capturePhoto = () => {
                const canvas = canvasRef.current;
                const video = videoRef.current;
                
                canvas.width = video.videoWidth;
                canvas.height = video.videoHeight;
                canvas.getContext('2d').drawImage(video, 0, 0);
                
                const imageData = canvas.toDataURL('image/jpeg', 0.8);
                setCurrentImage(imageData);
                stopCamera();
                analyzeImage(imageData);
            };

            const handleFileUpload = (e) => {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = (event) => {
                        const imageData = event.target.result;
                        setCurrentImage(imageData);
                        analyzeImage(imageData);
                    };
                    reader.readAsDataURL(file);
                }
            };

            const analyzeImage = async (imageData) => {
                setIsAnalyzing(true);
                setSuggestedName('');
                
                try {
                    // Ph√¢n t√≠ch m√†u s·∫Øc t·ª´ ·∫£nh
                    const colorName = await analyzeImageColors(imageData);
                    
                    // T·∫°o t√™n d·ª±a tr√™n m√†u v√† pattern t·ª´ s·∫£n ph·∫©m c≈©
                    const generatedName = generateProductName(colorName, products);
                    
                    setSuggestedName(generatedName);
                    setEditedName(generatedName);
                } catch (error) {
                    console.error("Error analyzing image:", error);
                    // Fallback ƒë∆°n gi·∫£n
                    setSuggestedName('S·∫¢N PH·∫®M M·ªöI');
                    setEditedName('S·∫¢N PH·∫®M M·ªöI');
                } finally {
                    setIsAnalyzing(false);
                }
            };

            const saveProduct = () => {
                if (!editedName.trim()) {
                    alert('Vui l√≤ng nh·∫≠p t√™n s·∫£n ph·∫©m');
                    return;
                }

                const newProduct = {
                    name: editedName.trim(),
                    image: currentImage,
                    createdAt: new Date()
                };

                saveProductToFirebase(newProduct);
                setCurrentImage(null);
                setSuggestedName('');
                setEditedName('');
            };

            const deleteProduct = (id) => {
                if (confirm('B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a s·∫£n ph·∫©m n√†y?')) {
                    deleteProductFromFirebase(id);
                }
            };

            const editProduct = (id) => {
                const product = products.find(p => p.id === id);
                const newName = prompt('Nh·∫≠p t√™n m·ªõi:', product.name);
                if (newName && newName.trim()) {
                    updateProductInFirebase(id, newName.trim());
                }
            };

            return (
                <div className="min-h-screen bg-gradient-to-br from-orange-50 to-red-100 p-4">
                    <div className="max-w-4xl mx-auto">
                        <div className="bg-white rounded-2xl shadow-xl p-6 mb-6">
                            <div className="flex justify-between items-start mb-2">
                                <div>
                                    <h1 className="text-3xl font-bold text-orange-600 mb-2">
                                        üè∑Ô∏è N2Shop - ƒê·∫∑t T√™n T·ª± ƒê·ªông
                                    </h1>
                                    <p className="text-gray-600">
                                        AI t·ª± h·ªçc t·ª´ s·∫£n ph·∫©m c≈© üß†
                                    </p>
                                </div>
                                <div className="text-right">
                                    {db && (
                                        <div className="space-y-1">
                                            <div className="flex items-center gap-2 text-orange-600 text-sm font-semibold">
                                                <span className="w-2 h-2 bg-orange-500 rounded-full animate-pulse"></span>
                                                <span>üî• Firebase</span>
                                            </div>
                                            {lastSync && (
                                                <div className="text-xs text-gray-500">
                                                    {lastSync.toLocaleTimeString('vi-VN')}
                                                </div>
                                            )}
                                        </div>
                                    )}
                                </div>
                            </div>
                            
                            <div className="flex items-center gap-3 mt-4">
                                <div className={`flex items-center gap-2 px-3 py-1 rounded-full text-xs font-semibold ${
                                    isOnline ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700'
                                }`}>
                                    <span className={`w-2 h-2 rounded-full ${isOnline ? 'bg-green-500' : 'bg-red-500'}`}></span>
                                    <span>{isOnline ? 'Online' : 'Offline'}</span>
                                </div>
                                
                                <div className="flex items-center gap-2 px-3 py-1 rounded-full bg-blue-100 text-blue-700 text-xs font-semibold">
                                    <span>üß† AI T·ª± H·ªçc ({products.length} m·∫´u)</span>
                                </div>
                                
                                {isSyncing && (
                                    <div className="flex items-center gap-2 px-3 py-1 rounded-full bg-orange-100 text-orange-700 text-xs font-semibold">
                                        <svg className="animate-spin h-3 w-3" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                                            <circle className="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" strokeWidth="4"></circle>
                                            <path className="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                                        </svg>
                                        <span>ƒêang l∆∞u...</span>
                                    </div>
                                )}
                            </div>
                        </div>

                        {!currentImage && !showCamera && (
                            <div className="bg-white rounded-2xl shadow-xl p-8 mb-6">
                                <div className="flex flex-col sm:flex-row gap-4">
                                    <button
                                        onClick={startCamera}
                                        className="flex-1 bg-orange-600 text-white py-4 px-6 rounded-xl font-semibold hover:bg-orange-700 transition-colors flex items-center justify-center gap-2"
                                    >
                                        <span>üì∏</span>
                                        <span>Ch·ª•p ·∫¢nh</span>
                                    </button>
                                    <button
                                        onClick={() => fileInputRef.current?.click()}
                                        className="flex-1 bg-green-600 text-white py-4 px-6 rounded-xl font-semibold hover:bg-green-700 transition-colors flex items-center justify-center gap-2"
                                    >
                                        <span>üñºÔ∏è</span>
                                        <span>Ch·ªçn T·ª´ Th∆∞ Vi·ªán</span>
                                    </button>
                                    <input
                                        ref={fileInputRef}
                                        type="file"
                                        accept="image/*"
                                        onChange={handleFileUpload}
                                        className="hidden"
                                    />
                                </div>
                            </div>
                        )}

                        {showCamera && (
                            <div className="bg-white rounded-2xl shadow-xl p-6 mb-6">
                                <video
                                    ref={videoRef}
                                    autoPlay
                                    playsInline
                                    className="w-full rounded-lg mb-4"
                                />
                                <canvas ref={canvasRef} className="hidden" />
                                <div className="flex gap-4">
                                    <button
                                        onClick={capturePhoto}
                                        className="flex-1 bg-orange-600 text-white py-3 px-6 rounded-xl font-semibold hover:bg-orange-700 transition-colors"
                                    >
                                        üì∏ Ch·ª•p
                                    </button>
                                    <button
                                        onClick={stopCamera}
                                        className="flex-1 bg-gray-600 text-white py-3 px-6 rounded-xl font-semibold hover:bg-gray-700 transition-colors"
                                    >
                                        ‚ùå H·ªßy
                                    </button>
                                </div>
                            </div>
                        )}

                        {currentImage && (
                            <div className="bg-white rounded-2xl shadow-xl p-6 mb-6">
                                <h2 className="text-xl font-bold text-gray-800 mb-4">üìù ƒê·∫∑t T√™n S·∫£n Ph·∫©m</h2>
                                
                                <img 
                                    src={currentImage} 
                                    alt="Product" 
                                    className="w-full max-h-96 object-contain rounded-lg mb-4 border-2 border-gray-200"
                                />

                                {isAnalyzing ? (
                                    <div className="text-center py-8">
                                        <div className="animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600 mx-auto mb-4"></div>
                                        <p className="text-gray-600">üß† ƒêang ph√¢n t√≠ch m√†u s·∫Øc v√† h·ªçc t·ª´ s·∫£n ph·∫©m c≈©...</p>
                                    </div>
                                ) : (
                                    <div className="space-y-4">
                                        <div>
                                            <label className="block text-sm font-semibold text-gray-700 mb-2">
                                                T√™n ƒê·ªÅ Xu·∫•t (AI T·ª± H·ªçc):
                                            </label>
                                            <div className="bg-orange-50 p-4 rounded-lg text-orange-900 font-semibold">
                                                {suggestedName || 'ƒêang ph√¢n t√≠ch...'}
                                            </div>
                                        </div>

                                        <div>
                                            <label className="block text-sm font-semibold text-gray-700 mb-2">
                                                Ch·ªânh S·ª≠a T√™n:
                                            </label>
                                            <input
                                                type="text"
                                                value={editedName}
                                                onChange={(e) => setEditedName(e.target.value)}
                                                className="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-orange-500 focus:outline-none"
                                                placeholder="Nh·∫≠p t√™n s·∫£n ph·∫©m..."
                                            />
                                        </div>

                                        <div className="flex gap-4">
                                            <button
                                                onClick={saveProduct}
                                                disabled={!editedName.trim() || isSyncing}
                                                className="flex-1 bg-green-600 text-white py-3 px-6 rounded-xl font-semibold hover:bg-green-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed"
                                            >
                                                ‚úÖ L∆∞u S·∫£n Ph·∫©m
                                            </button>
                                            <button
                                                onClick={() => {
                                                    setCurrentImage(null);
                                                    setSuggestedName('');
                                                    setEditedName('');
                                                }}
                                                className="flex-1 bg-gray-600 text-white py-3 px-6 rounded-xl font-semibold hover:bg-gray-700 transition-colors"
                                            >
                                                üîÑ Ch·ª•p L·∫°i
                                            </button>
                                        </div>
                                    </div>
                                )}
                            </div>
                        )}

                        <div className="bg-white rounded-2xl shadow-xl p-6">
                            <div className="flex justify-between items-center mb-4">
                                <h2 className="text-xl font-bold text-gray-800">
                                    üì¶ S·∫£n Ph·∫©m ({products.length})
                                </h2>
                            </div>

                            {products.length === 0 ? (
                                <div className="text-center py-12 text-gray-500">
                                    <p className="text-lg mb-2">Ch∆∞a c√≥ s·∫£n ph·∫©m n√†o</p>
                                    <p className="text-sm">H√£y ch·ª•p ·∫£nh ƒë·ªÉ AI b·∫Øt ƒë·∫ßu h·ªçc!</p>
                                </div>
                            ) : (
                                <div className="grid grid-cols-1 sm:grid-cols-2 gap-4">
                                    {products.map((product) => (
                                        <div key={product.id} className="border-2 border-gray-200 rounded-xl overflow-hidden hover:shadow-lg transition-shadow">
                                            <img 
                                                src={product.imageUrl || product.image} 
                                                alt={product.name}
                                                className="w-full h-48 object-cover"
                                            />
                                            <div className="p-4">
                                                <h3 className="font-bold text-gray-800 mb-2 text-sm">
                                                    {product.name}
                                                </h3>
                                                <p className="text-xs text-gray-500 mb-3">
                                                    {product.createdAt ? new Date(product.createdAt.seconds * 1000).toLocaleString('vi-VN') : 'N/A'}
                                                </p>
                                                <div className="flex gap-2">
                                                    <button
                                                        onClick={() => editProduct(product.id)}
                                                        disabled={isSyncing}
                                                        className="flex-1 bg-blue-500 text-white py-2 px-3 rounded-lg text-sm font-semibold hover:bg-blue-600 transition-colors disabled:bg-gray-300"
                                                    >
                                                        ‚úèÔ∏è S·ª≠a
                                                    </button>
                                                    <button
                                                        onClick={() => deleteProduct(product.id)}
                                                        disabled={isSyncing}
                                                        className="flex-1 bg-red-500 text-white py-2 px-3 rounded-lg text-sm font-semibold hover:bg-red-600 transition-colors disabled:bg-gray-300"
                                                    >
                                                        üóëÔ∏è X√≥a
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            )}
                        </div>

                        <div className="mt-6 bg-orange-50 rounded-xl p-4 text-sm text-gray-700">
                            <p className="font-semibold mb-2">
                                üß† AI T·ª± H·ªçc - Kh√¥ng C·∫ßn API Key
                            </p>
                            <ul className="list-disc list-inside space-y-1 text-xs">
                                <li>‚úÖ Ph√¢n t√≠ch m√†u s·∫Øc t·ª± ƒë·ªông t·ª´ ·∫£nh</li>
                                <li>‚úÖ H·ªçc c√°ch ƒë·∫∑t t√™n t·ª´ s·∫£n ph·∫©m c≈©</li>
                                <li>‚úÖ C√†ng d√πng nhi·ªÅu, AI c√†ng th√¥ng minh</li>
                                <li>‚úÖ Ho√†n to√†n MI·ªÑN PH√ç, kh√¥ng c·∫ßn API</li>
                                <li>‚úÖ Ho·∫°t ƒë·ªông offline</li>
                            </ul>
                        </div>
                    </div>
                </div>
            );
        }

        ReactDOM.render(<ClothingNamingApp />, document.getElementById('root'));
    </script>
</body>
</html>